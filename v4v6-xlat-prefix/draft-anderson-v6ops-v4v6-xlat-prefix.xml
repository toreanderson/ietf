<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc strict="yes" ?>
<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<rfc category="std" docName="draft-anderson-v6ops-v4v6-xlat-prefix-02"
     ipr="trust200902" updates="6890">

  <front>
    <title>Local-use IPv4/IPv6 Translation Prefix</title>
    <author fullname="Tore Anderson" initials="T." surname="Anderson">
      <organization>Redpill Linpro</organization>
      <address>
        <postal>
          <street>Vitaminveien 1A</street>
          <!-- Embedding the postal code directly in the <city> element
               instead of using <code> in necessary to get correct Norwegian
               syntax. For more information, see:
               http://trac.tools.ietf.org/tools/xml2rfc/trac/ticket/280 -->
          <city>0485 Oslo</city>
          <country>Norway</country>
        </postal>
        <phone>+47 959 31 212</phone>
        <email>tore@redpill-linpro.com</email>
        <uri>http://www.redpill-linpro.com</uri>
      </address>
    </author>
    <date year="2016"/>
    <area>General</area>
    <workgroup>IPv6 Operations</workgroup>
    <abstract>
      <t>
      This document reserves the IPv6 prefix 64:ff9b:1::/48 for local use
      within domains that enable IPv4/IPv6 translation mechanisms. This
      document updates RFC6890.
      </t>
    </abstract>
  </front>
  <middle>
    <section anchor="intro" title="Introduction">
      <t>
      This document reserves 64:ff9b:1::/48 for local use within domains that
      enable IPv4/IPv6 translation mechanisms. This facilitates the
      co-existence of multiple IPv4/IPv6 translation mechanisms in the same
      network without requiring the use of a Network-Specific Prefix assigned
      from the operator's allocated global unicast address space.
      </t>
    </section>
    <section anchor="terminology" title="Terminology">
      <t>
      This document makes use of the following terms:
      </t>
      <t>
      <list style="hanging">
       <t hangText="Network-Specific Prefix (NSP)"><vspace/>A globally unique
       prefix assigned by a network operator for use with an IPv4/IPv6
       translation mechanism <xref target="RFC6052"/>.</t>
       <t hangText="Well-Known Prefix (WKP)"><vspace/>The prefix 64:ff9b::/96,
       which is reserved for use with the <xref target="RFC6052"/> IPv4/IPv6
       address translation algorithm.</t>
      </list>
      </t>
      <t>
      The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref target="RFC2119"/>.
      </t>
    </section>
    <section anchor="problem_statement" title="Problem Statement">
      <t>
      Since the WKP 64:ff9b::/96 was reserved by <xref target="RFC6052"/>,
      several new IPv4/IPv6 translation mechanisms have been defined by the
      IETF. These mechanisms target various different use cases. An operator
      might therefore wish to make use of several of them simultaneously.
      </t>
      <t>
      The WKP is reserved specifically for use with the algorithm specified in
      <xref target="RFC6052"/>. More recent IETF documents describe IPv4/IPv6
      translation mechanisms that use different algorithms. An operator
      deploying such mechanisms can not make use of the WKP in a legitimate
      fashion.
      </t>
      <t>
      Also, because the WKP is a /96, an operator preferring to use a WKP over
      an NSP can only do so for only one of his IPv4/IPv6 translation
      mechanisms. All others must necessarily use an NSP.
      </t>
      <t>
      Section 3.1 of <xref target="RFC6052"/> imposes certain restrictions on
      the use of the WKP. These restrictions might conflict with the
      operator's desired use of an IPv4/IPv6 translation mechanism.
      </t>
      <t>
      In summary, there is a need for a local-use prefix that facilitates the
      co-existence of multiple IPv4/IPv6 translation mechanisms in a single
      network domain, as well as the deployment of translation mechanisms that
      do not use the <xref target="RFC6052"/> algorithm or adhere to its usage
      restrictions.
      </t>
    </section>
    <section anchor="choice" title="Why 64:ff9b:1::/48?">
      <t>
      The primary reason for choosing 64:ff9b:1::/48 is that it is adjacent to
      the <xref target="RFC6052"/> WKP 64:ff9b::/96. As these two prefixes are
      intended for very similar uses, it is prudent to allow them to be
      referred to using a single aggregate (64:ff9b::/47).
      </t>
      <t>
      The prefix length of 48 bits was chosen in order to attain the goal of
      facilitating multiple simultaneous deployments of IPv4/IPv6 translation
      in a single network. The shortest IPv4/IPv6 translation prefixes
      reported to the IPv6 Operations working group as being used in
      production was 64 bits. 64:ff9b:1::/48 will accommodate up to 65536 such
      prefixes.
      </t>
      <t>
      While the <xref target="RFC6052"/> algorithm specifies IPv4/IPv6
      translation prefixes as short as /32, facilitating for multiple
      instances of these was considered as too wasteful by the V6OPS working
      group.
      </t>
    </section>
    <section anchor="deployment" title="Deployment Considerations">
      <t>
      64:ff9b:1::/48 is intended as a technology-agnostic and generic
      reservation. A network operator may freely use it in combination with
      any kind of IPv4/IPv6 translation mechanism deployed within his network.
      </t>
      <t>
      By default, IPv6 nodes and applications must not treat IPv6 addresses
      within 64:ff9b:1::/48 different from other globally scoped IPv6
      addresses. In particular, they must not make any assumptions regarding
      the syntax or properties of those addresses (e.g., the existence and
      location of embedded IPv4 addresses), or the type of associated
      translation mechanism (e.g., whether it is stateful or stateless).
      </t>
      <t>
      64:ff9b:1::/48 or any other more-specific prefix SHOULD NOT be
      advertised in inter-domain routing, except by explicit agreement between
      all involved parties. Such prefixes MUST NOT be advertised to the
      default-free zone.
      </t>
      <t>
      When 64:ff9b:1::/48 or a more-specific prefix is used with the <xref
      target="RFC6052"/> algorithm, it is considered to be a
      Network-Specific Prefix.
      </t>
    </section>
    <section anchor="checksum" title="Checksum Neutrality">
      <t>
      Use of 64:ff9b:1::/48 does not in itself guarantee checksum neutrality,
      as many of the IPv4/IPv6 translation algorithms it can be used with are
      fundamentally incompatible with checksum-neutral address translations.
      </t>
      <t>
      The Stateless IP/ICMP Translation algorithm <xref target="RFC7915"/> is
      one well-known algorithm that can operate in a checksum-neutral manner,
      when using the <xref target="RFC6052"/> algorithm for all of its address
      translations. However, in order to attain checksum neutrality is
      imperative that the translation prefix is chosen carefully.
      Specifically, in order for a 96-bit <xref target="RFC6052"/> prefix to
      be checksum neutral, all the six 16-bit words in the prefix must add up
      to a multiple of 0xffff.
      </t>
      <t>
      The following non-exhaustive list contains examples of translation
      prefixes that are checksum neutral when used with the <xref
      target="RFC7915"/> and <xref target="RFC6052"/> algorithms:
      <list style="symbols">
        <t>64:ff9b:1:fffe::/96</t>
        <t>64:ff9b:1:fffd:1::/96</t>
        <t>64:ff9b:1:fffc:2::/96</t>
        <t>64:ff9b:1:abcd:0:5431::/96</t>
      </list>
      </t>
      <t>
      Section 4.1 of <xref target="RFC6052"/> contains further discussion
      about IPv4/IPv6 translation and checksum neutrality.
      </t>
    </section>
    <section anchor="IANA" title="IANA Considerations">
      <t>
      The IANA is requested to add the following entry to the IPv6
      Special-Purpose Address Registry:
      </t>
      <t>
      <figure>
        <artwork align="center"><![CDATA[
+----------------------+---------------------+
| Attribute            | Value               |
+----------------------+---------------------+
| Address Block        | 64:ff9b:1::/48      |
| Name                 | IPv4-IPv6 Translat. |
| RFC                  | (TBD)               |
| Allocation Date      | (TBD)               |
| Termination Date     | N/A                 |
| Source               | True                |
| Destination          | True                |
| Forwardable          | True                |
| Global               | False               |
| Reserved-by-Protocol | False               |
+----------------------+---------------------+
        ]]></artwork>
      </figure>
      </t>
      <t>
      The IANA is furthermore requested to add the following footnote to the
      0000::/8 entry of the Internet Protocol Version 6 Address Space
      registry:
      <list>
        <t>64:ff9b:1::/48 reserved for Local-use IPv4/IPv6 Translation [TBD]</t>
      </list>
      </t>
    </section>
    <section anchor="Security" title="Security Considerations">
      <t>
      The reservation of 64:ff9b:1::/48 is not known to cause any new security
      considerations beyond those documented in Section 5 of <xref
      target="RFC6052"/>.
      </t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>
      <?rfc include="reference.RFC.6052"?>
    </references>
    <references title="Informative References">
      <?rfc include="reference.RFC.7915"?>
    </references>
    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>
      The author would like to thank Fred Baker, Mohamed Boucadair, Brian E
      Carpenter, Pier Carlo Chiodi, David Farmer and Holger Metschulat for
      contributing to the creation of this document.
      </t>
    </section>
  </back>

</rfc>
<!-- vim: syntax=xml tw=78 ai fo=2 sw=2 et:
-->
